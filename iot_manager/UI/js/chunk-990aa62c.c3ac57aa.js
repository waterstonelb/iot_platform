(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-990aa62c"],{2625:function(e,t,i){},"2b75":function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{staticClass:"head"},[i("router-link",{attrs:{to:"/deviceManage/lifeTime/creatDeviceLifeTime"}},[i("el-button",[e._v("添加设备")])],1)],1),i("div",[e._l(e.devices,(function(t){return i("div",{key:t.deviceId,staticClass:"lifeTimeCard"},[i("div",{staticClass:"left"},[i("div",{staticStyle:{width:"150px"}},[i("router-link",{staticStyle:{color:"blue"},attrs:{to:{path:"/deviceManage/lifeTime/DeviceDetails",query:{deviceId:t.deviceId}}}},[e._v(" "+e._s(t.deviceName)+" ")])],1),i("div",{staticStyle:{border:"1px solid #ccc",padding:"3px"}},[e._v(e._s(t.deviceStatus?"已开启":"已禁用"))]),i("div",[e._v("状态："+e._s(t.isOnline?"在线":"下线"))])]),i("div",{staticClass:"middle"},[i("div",[i("router-link",{staticStyle:{color:"red"},attrs:{to:{path:"/deviceManage/lifeTime/UpdateShadow",query:{deviceId:t.deviceId}}}},[e._v(" 查看影子 ")])],1)]),i("div",{staticClass:"right"},[i("el-button",{attrs:{size:"mini",type:"success"},on:{click:function(i){return e.updateOnline(t.deviceId,t.isOnline)}}},[e._v(e._s(t.isOnline?"下线":"上线"))]),i("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(i){return e.updateStatus(t.deviceId,t.deviceStatus)}}},[e._v(e._s(t.deviceStatus?"禁用":"开启"))]),i("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(i){return e.deleteDevice(t.deviceId)}}},[e._v("删除")])],1)])})),i("el-pagination",{staticStyle:{"margin-left":"100px"},attrs:{background:"",layout:"prev, pager, next",total:e.total,"page-size":e.pageSize,"current-page":e.currentPage},on:{"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t},"current-change":e.pageChange}})],2)])},a=[],c={name:"LifeTime",data:function(){return{devices:[],currentPage:0,pageSize:5,total:1e3}},mounted:function(){this.getDevices(0,this.pageSize)},methods:{getDevices:function(e,t){var i=this;this.$req._get("/device/getall",{params:{page:e,size:t}}).then((function(e){i.devices=e.data.result,i.total=e.data.totalNum}))},pageChange:function(e){this.getDevices(e-1,this.pageSize)},updateOnline:function(e,t){confirm("确认"+(t?"下线":"上线")+"？")&&this.$req._post("/device/updateonline",{deviceId:e,status:0===t?1:0}).then((function(e){window.location.reload()}))},updateStatus:function(e,t){confirm("确认"+(t?"禁用":"开启")+"？")&&this.$req._post("/device/updatestatus",{deviceId:e,status:0===t?1:0}).then((function(e){window.location.reload()}))},deleteDevice:function(e){confirm("确认删除？")&&this.$req._delete("/device/delete",{params:{deviceId:e}}).then((function(e){window.location.reload()}))}}},d=c,s=(i("6ae2"),i("2877")),r=Object(s["a"])(d,n,a,!1,null,"27f7eb00",null);t["default"]=r.exports},"6ae2":function(e,t,i){"use strict";var n=i("2625"),a=i.n(n);a.a}}]);
//# sourceMappingURL=chunk-990aa62c.c3ac57aa.js.map